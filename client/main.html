<head>
  <title>god-game</title>
</head>

<body>
  <h1>Welcome to Meteor!</h1>

  {{> game}}
</body>

<template name="game">
  {{#with game}}
    <button disabled="{{resources.food.atLimit}}" class="tap">Tap for food</button>
    <button disabled="{{cannotRefineFoodToWood}}" class="refineFood">Refine Food</button>
    {{> resourceList resources=getResources }}
    {{> buildings buildings=getBuildings}}
  {{/with}}
</template>

<template name='buildings'>
  {{#each buildings}}
    <!-- {{#unless hide.get 'self'}} -->
      <button class="buy" disabled='{{cannotBuy}}'>
        {{name}} ({{getCount}})
      </button>
    <!-- {{/unless}} -->
  {{/each}}
</template>


<template name='resourceList'>
  <table class="table resTable">
    {{#each resources}}
      {{#unless hide.get 'self'}}
        <tr class="resourceRow">
          <td>{{name}}:</td>
          {{#unless hide.get 'value'}}
          <td class="resLimitWarn">{{formatNumber getValue}}</td>
          {{/unless}}
          {{#unless hide.get 'limit'}}
            <td class="maxRes">/{{formatLimit getLimit}}</td>
          {{/unless}}
          {{#unless hide.get 'tick'}}
            <td>({{formatTick getTick}})</td>
          {{/unless}}
        </tr>
      {{/unless}}
    {{/each}}
  </table>
</template>